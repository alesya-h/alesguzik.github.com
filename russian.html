<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <title>Russian Keyboard - русская клавиатура - Type Russian Online</title>
    <style>
        *{margin:0;padding:0}
        html{overflow-y:scroll; background-color:black}
        html,body{height:100%}
        body{font-family:Verdana,Helvetica,Arial,Sans-Serif;font-size:87.5%;line-height:24px;color:#464646;
        }
        body::before{
          content: "";
          position: absolute;
          top: 0; left: 0;
          width: 100%; height: 100%;
          background-image: url(stars.png);
          /*background-size: cover;*/
          background-position: center;
          filter: opacity(25%);

        }
        #page{filter:invert(1);}
        a:link,a:visited,a:active{color:#005a9c;text-decoration:none}
        a:hover{text-decoration:underline}
        p{margin:.75em 0}
        h1{font-size:1.2857em;margin:.75em 0;color:#057cb5}
        h3{font-size:1em;margin:.75em 0;color:#057cb5}
        h4{text-align:left}
        img{border:0}
        table{border-spacing:0}
        td{vertical-align:top}
        rb{color:#057cb5;font-size:100%;margin-left:.5em}
        rt{color:#e0115f;font-size:100%}
        .hidden{display: none}
        .clear{clear:both}
        .middle{vertical-align:middle}
        .top{vertical-align:top}
        #footer{margin-top:4em;padding-bottom:2em;text-align:center;border-top:1px solid #ccc;font-size:.75em}
        #gdpr{position:fixed;background-color:rgba(0,0,0,0.85);color:#FFF;text-align:center;left:0;bottom:0;width:100%;font-size:.75em}
        #gdpr-btn{margin:0 0 0 1em;padding:0 1em;font-size:1em;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:unset 0 1px 1px rgba(0,0,0,0.075);box-shadow:unset 0 1px 1px rgba(0,0,0,0.075)}
        ul.menu{list-style:none;padding-top:1em}
        li.menuitem{display:inline;padding:0;margin:0 0 0 1em}
        li.activemenuitem a{border-bottom:1px solid #3C0}
        #editor{background: #dddc;position:relative}
        #editor:focus{background: #ddd}
        #action{text-align:left}
        #action button{padding:0 5px;vertical-align:middle;line-height:18px; font-size: 1.5em; padding: .5em; min-width: 2em; }
        #shrink,#enlarge{width:24px}
        a.soft_button{border:1px solid lightblue;margin-left:3px;padding:0 2px;white-space:nowrap}
        .share-this{margin:2em auto 1em auto;text-align:center}
        .share-this .share{margin-right:1em}
        .button{display:inline-block;padding:0 5px;background-color:#f0f0f0;border:2px solid #ccc;border-radius:5px}
        input[type=number],input[type=text],textarea{font-family:Verdana,Helvetica,Arial,Sans-Serif;color:#464646;padding:5px 8px;vertical-align:middle;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);-webkit-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}
        .nowrap{white-space:nowrap}
        #branah-keyboard{line-height:20px;font-size:1em}
        #branah-keyboard button{float:left;display:block;margin:1px;height:3em;text-align:center;color:gray}
        #branah-keyboard .branah-label-natural{color:#e0115f}
        #branah-keyboard .branah-label-shift{color:#057cb5}
        #branah-keyboard .branah-label-natural,#branah-keyboard .branah-label-shift{margin-top:-5px;line-height:20px;text-align:center;cursor:default}
        #branah-keyboard .branah-label-reference{color:gray;font-size:.9em;line-height:12px;text-align:left;cursor:default}
        #branah-k29 .branah-label-reference,#branah-k32 .branah-label-reference{color:#000}
        #branah-keyboard .branah-recessed span{color:#3C0}
        #branah-keyboard .branah-recessed-hover span{color:#ffd800}
        #branah-keyboard .branah-clear{clear:both}

        /* collapsible */
        input[type='checkbox']{ display: none; }
        .wrap-collabsible { margin: 1.2rem 0; }
        .lbl-toggle { display: block; font-weight: bold; font-family: monospace; font-size: 1.2rem; text-transform: uppercase; text-align: center; padding: 1rem; color: #757575; background: #e4e4e4; cursor: pointer; border-radius: 7px; transition: all 0.25s ease-out; }
        .lbl-toggle:hover { color: #000; }
        .lbl-toggle::before { content: ' '; display: inline-block; border-top: 5px solid transparent; border-bottom: 5px solid transparent; border-left: 5px solid currentColor; vertical-align: middle; margin-right: .7rem; transform: translateY(-2px); transition: transform .2s ease-out; }
        .toggle:checked+.lbl-toggle::before { transform: rotate(90deg) translateX(-3px); }
        .collapsible-content { max-height: 0px; overflow: hidden; transition: max-height .25s ease-in-out; }
        .toggle:checked + .lbl-toggle + .collapsible-content { max-height: 650px; overflow: scroll; }
        .toggle:checked+.lbl-toggle { border-bottom-right-radius: 0; border-bottom-left-radius: 0; }
        .collapsible-content .content-inner { background: rgba(0, 105, 255, .2); border-bottom: 1px solid rgba(0, 105, 255, .45); border-bottom-left-radius: 7px; border-bottom-right-radius: 7px; padding: .5rem 1rem; }
        .collapsible-content p { margin-bottom: 0; }

        @media only screen and (max-width:640px){
            #page{margin:0 2px}
            #header{margin-bottom:1em}
            #logo{display:inline-block;width:100%;height:46px;line-height:46px;background-repeat:repeat-x;background-image:url(/images/branahmobile.jpg)}
            div.side_content{height:50px}
            .adslot_1{width:320px;height:50px}
            a.soft_button{padding:0 2px 0 0;margin-left:0}
            ul.list{list-style:none}
            ul.list li{text-align:center;line-height:2em;margin:1em}
            textarea{width:85%}
            #share{width:100%;margin:2em auto 1em auto;text-align:center}
            #action{line-height:2.25em}
            #archived{font-size:.85em;margin:.5em 0 1em 0}
            #branah-keyboard button{width:88px}
            #branah-keyboard .branah-key{width:43px}
            .gsc-search-box,.gsc-control-cse{display:none}
        }
        @media only screen and (min-width:641px) and (max-width:840px){
            p{text-align:justify}
            textarea{width:610px}
            #page{width:630px;margin:0 auto}
            #header{margin-bottom:1em}
            #logo{display:inline-block;width:630px;height:108px;line-height:108px;background-image:url(/images/branahtab.jpg)}
            div.side_content{height:60px}
            .adslot_1{width:468px;height:60px}
            ul.list{list-style:none;display:inline-block;width:120px}
            ul.list li{line-height:2em;margin:0}
            #editor{width:600px}
            #keyboard{width:630px}
            #selectAll,#saveAsTextFile,#postToFacebook,#shrink,#enlarge{margin-right:2px;padding:0 5px;vertical-align:middle;line-height:18px}
        }
        @media only screen and (min-width:841px){
            p{text-align:justify}
            textarea{width:610px}
            #page{width:840px;margin:0 40px}
            #header{margin-bottom:1em}
            #logo{display:inline-block;width:840px;height:144px;line-height:144px;background-image:url(/images/branah.jpg)}
            div.side_content{position:absolute;top:0;left:0;width:160px;_margin-left:-210px}
            .adslot_1{display:block;width:160px;height:600px}
            div.main_content{position:relative}
            ul.list{list-style:none;display:inline-block;width:160px}
            #editor{width:607px;height:500px}
        }
        @media only screen and (min-width:641px){
            #branah-keyboard{width:630px}
            #branah-keyboard button{line-height:2.75em}
            #branah-keyboard .branah-key{width:40px}
            #branah-backspace{width:78px}
            #branah-tab{width:62px}
            #branah-k25{width:56px}
            #branah-caps-lock{width:76px}
            #branah-enter{width:84px}
            #branah-left-shift{width:46px}
            #branah-right-shift{width:114px}
            #branah-space{width:246px;text-align:center}
            #branah-right-ctrl,#branah-right-alt,#branah-escape{width:62px}
            #branah-left-ctrl,#branah-left-alt,#branah{width:60px}
        };

    </style>

</head>
<body>
    <div id="page">
        <div class="main_content">
            <div class="hidden">
                <h1>Russian Keyboard - русская клавиатура</h1>

                <p id="response"></p>

                <h4>Click or type it... Copy it... And paste it... Done!</h4>
            </div>
            <form method="POST" action="#" id="saveAsTextFile">
                <p id="action">
                    <button type="button" id="selectAll">Select All</button>
                    <button type="button" id="copy">Copy</button>
                    <button type="button" id="undo">Undo</button>
                    <button type="button" id="redo">Redo</button>
                    <button type="button" id="clearAll">Clear All</button>
                    <input type="hidden" name="data" id="data" value="">
                    <!--
                    <button type="submit">Save Text</button>
                    -->
                    <button type="button" title="Shrink letters" id="shrink">-</button>
                    <button type="button" title="Enlarge letters" id="enlarge">+</button>
                    <div class="hidden">
                        <br />
                        <span class="nowrap"><a id="email" href="#" class="middle soft_button">Send Email</a></span>
                        <span class="nowrap"><a id="postToTwitter" href="#" class="middle soft_button" target="_blank">Tweet in Russian</a></span>
                        <span class="nowrap"><a id="searchGoogle" href="#" class="middle soft_button" target="_blank">Google in Russian</a></span>
                        <span class="nowrap"><a id="translateGoogle" href="#" class="middle soft_button" target="_blank">Google Translate</a></span>
                    </div>
                </p>
            </form>

            <p><div id="editor-wrap"><textarea id="editor" name="editor" rows="" cols="75"></textarea></div></p>
            <div id="keyboard"></div>

            <div class="wrap-collapsible">
                <input id="collapsible" class="toggle" type="checkbox">
                <label for="collapsible" class="lbl-toggle">More Info</label>
                <div class="collapsible-content">
                    <div class="collapsible-inner">
                        <p><a title="Cyrillic to Latin converter" href="./cyrillic-to-latin">Cyrillic to Latin converter</a></p>

                        <p>This <em>Russian Keyboard</em> enables you to easily type Russian online without installing <em>Russian keyboard</em>. You can use your computer keyboard or mouse to type Russian letters with this online keyboard.</p>
                        
                        <p>Pressing <span class="button">Esc</span> on the Russian keyboard layout will toggle the mouse input between virtual QWERTY keyboard and virtual Russian keyboard. The key will also turn on/off your keyboard input conversion. Pressing <span class="button">Esc</span> on your keyboard has the same function.</p>
                        
                        <p>Press <span class="button">Shift</span> for additional Russian letters that are not visible on the keyboard.</p>
                        
                        <h3>Instructions for using Transliteration</h3>
                        <p>Transliteration works more or less the same way as the phonetic input with some differences. These are jo(ё), Jo(Ё), zh(ж), Zh/ZH(Ж), kh(х), ts(ц), ch(ч), sh(ш), sc(щ), je(э), iu(ю), ia(я), '(ь), ''(Ь), &quot;(ъ), &quot;&quot;(Ъ), #(№), &lt;(«), &gt;(»), and --(—). Semicolon(;) can be used as a partition so that what is one the left and what is on the right are transliterated separately. For example t;s will produce тс instead of ц and i;a will produce иа instead of я.</p>
                        
                        <p>For mobile phones and tablets, touch and hold inside the text area to copy the text. You can then paste the text in any app such as Facebook, Twitter, email, or search app.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        (function(){var a={};a.util={mobile:/Android|webOS|iPhone|iPad|iPod|IEMobile|Opera Mini/i.test(navigator.userAgent),opera:((!!window.opr&&!!opr.addons)||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0),mozilla:(typeof InstallTrigger!=="undefined"),windowWidth:function(){var i=window.document.documentElement.clientWidth,e=window.document.body;return window.document.compatMode==="CSS1Compat"&&i||e&&e.clientWidth||i},code:function(i){if(!i){var i=window.event}if(i.code!=undefined&&i.key!=undefined){return i.code}return"Unidentified"},keyCode:function(u){if(!u){var u=window.event}var i=u.keyCode;if(this.mozilla){switch(i){case 59:i=186;break;case 107:i=187;break;case 109:i=189;break;case 61:i=187;break;case 173:i=189;break}}if(this.opera){switch(i){case 59:i=186;break;case 61:i=187;break;case 109:i=189;break}}if(i==18&&u.location&&u.location==2){i=255}return i},preventDefault:function(i){if(!i){var i=window.event}i.preventDefault?i.preventDefault():(i.returnValue=false)},srcId:function(i,u,w){if(!i){var i=window.event}var v;if(i.target){v=i.target}else{if(i.srcElement){v=i.srcElement}}if(v.nodeType==3){v=target.parentNode}while(v.tagName.toLowerCase()!=w){v=v.parentNode;if(v==u||v.tagName.toLowerCase()=="body"){return null}}return v.id},insertAtCaret:function(i,x){var w=this.getSelectionStart(i);var u=this.getSelectionEnd(i);var v=i.value.length;i.value=i.value.substring(0,w)+x+i.value.substring(u,v);this.setCaretPosition(i,w+x.length,0)},deleteAtCaret:function(v,u,i){var y=this.getSelectionStart(v);var w=this.getSelectionEnd(v);var x=v.value.length;if(u>y){u=y}if(w+i>x){i=x-w}var z=v.value.substring(y-u,w+i);v.value=v.value.substring(0,y-u)+v.value.substring(w+i);this.setCaretPosition(v,y-u,0);return z},getSelectionStart:function(i){i.focus();if(i.selectionStart!==undefined){return i.selectionStart}else{if(document.selection){var u=document.selection.createRange();if(u==null){return 0}var w=i.createTextRange();var v=w.duplicate();w.moveToBookmark(u.getBookmark());v.setEndPoint("EndToStart",w);return v.text.length}}return 0},getSelectionEnd:function(i){i.focus();if(i.selectionEnd!==undefined){return i.selectionEnd}else{if(document.selection){var u=document.selection.createRange();if(u==null){return 0}var w=i.createTextRange();var v=w.duplicate();w.moveToBookmark(u.getBookmark());v.setEndPoint("EndToStart",w);return v.text.length+u.text.length}}return i.value.length},setCaretPosition:function(u,w,i){var v=u.value.length;if(w>v){w=v}if(w+i>v){i=v-i}u.focus();if(u.setSelectionRange){u.setSelectionRange(w,w+i)}else{if(u.createTextRange){var x=u.createTextRange();x.collapse(true);x.moveEnd("character",w+i);x.moveStart("character",w);x.select()}}u.focus()},selectAll:function(i){this.setCaretPosition(i,0,i.value.length)},fromCharCodeS:function(){var w=arguments.length;var x="";var e,v,y;for(var u=0;u<w;u++){y=arguments[u];if(y<1114112&&65535<y){e=Math.floor((y-65536)/1024)+55296;v=((y-65536)%1024)+56320;x=x+String.fromCharCode(e,v)}else{if(y<65536){x=x+String.fromCharCode(y)}}}return x}};a.layout=function(){this.keys=[];this.deadkeys=[];this.dir="ltr";this.name="US";this.lang="en"};a.layout.prototype.loadDefault=function(){this.keys=[{i:"k0",c:"0",n:"`",s:"~"},{i:"k1",c:"0",n:"1",s:"!"},{i:"k2",c:"0",n:"2",s:"@"},{i:"k3",c:"0",n:"3",s:"#"},{i:"k4",c:"0",n:"4",s:"$"},{i:"k5",c:"0",n:"5",s:"%"},{i:"k6",c:"0",n:"6",s:"^"},{i:"k7",c:"0",n:"7",s:"&"},{i:"k8",c:"0",n:"8",s:"*"},{i:"k9",c:"0",n:"9",s:"("},{i:"k10",c:"0",n:"0",s:")"},{i:"k11",c:"0",n:"-",s:"_"},{i:"k12",c:"0",n:"=",s:"+"},{i:"k13",c:"1",n:"q",s:"Q"},{i:"k14",c:"1",n:"w",s:"W"},{i:"k15",c:"1",n:"e",s:"E"},{i:"k16",c:"1",n:"r",s:"R"},{i:"k17",c:"1",n:"t",s:"T"},{i:"k18",c:"1",n:"y",s:"Y"},{i:"k19",c:"1",n:"u",s:"U"},{i:"k20",c:"1",n:"i",s:"I"},{i:"k21",c:"1",n:"o",s:"O"},{i:"k22",c:"1",n:"p",s:"P"},{i:"k23",c:"0",n:"[",s:"{"},{i:"k24",c:"0",n:"]",s:"}"},{i:"k25",c:"0",n:"\\",s:"|"},{i:"k26",c:"1",n:"a",s:"A"},{i:"k27",c:"1",n:"s",s:"S"},{i:"k28",c:"1",n:"d",s:"D"},{i:"k29",c:"1",n:"f",s:"F"},{i:"k30",c:"1",n:"g",s:"G"},{i:"k31",c:"1",n:"h",s:"H"},{i:"k32",c:"1",n:"j",s:"J"},{i:"k33",c:"1",n:"k",s:"K"},{i:"k34",c:"1",n:"l",s:"L"},{i:"k35",c:"0",n:";",s:":"},{i:"k36",c:"0",n:"'",s:'"'},{i:"k37",c:"1",n:"z",s:"Z"},{i:"k38",c:"1",n:"x",s:"X"},{i:"k39",c:"1",n:"c",s:"C"},{i:"k40",c:"1",n:"v",s:"V"},{i:"k41",c:"1",n:"b",s:"B"},{i:"k42",c:"1",n:"n",s:"N"},{i:"k43",c:"1",n:"m",s:"M"},{i:"k44",c:"0",n:",",s:"<"},{i:"k45",c:"0",n:".",s:">"},{i:"k46",c:"0",n:"/",s:"?"},{i:"k47",c:"0",n:"\\",s:"|"}];this.deadkeys=[];this.dir="ltr";this.name="US";this.lang="en"};a.layout.prototype.load=function(e){this.keys=e.keys;this.deadkeys=e.deadkeys;this.dir=e.dir;this.name=e.name;this.lang=e.lang?e.lang:"en"};a.layout.parser={keys:{"192":"Backquote","49":"Digit1","50":"Digit2","51":"Digit3","52":"Digit4","53":"Digit5","54":"Digit6","55":"Digit7","56":"Digit8","57":"Digit9","48":"Digit0","189":"Minus","187":"Equal","81":"KeyQ","87":"KeyW","69":"KeyE","82":"KeyR","84":"KeyT","89":"KeyY","85":"KeyU","73":"KeyI","79":"KeyO","80":"KeyP","219":"BracketLeft","221":"BracketRight","220":"Backslash","65":"KeyA","83":"KeyS","68":"KeyD","70":"KeyF","71":"KeyG","72":"KeyH","74":"KeyJ","75":"KeyK","76":"KeyL","186":"Semicolon","222":"Quote","90":"KeyZ","88":"KeyX","67":"KeyC","86":"KeyV","66":"KeyB","78":"KeyN","77":"KeyM","188":"Comma","190":"Period","191":"Slash","17":"ControlLeft","18":"AltLeft","16":"ShiftLeft","32":"Space","27":"Escape","20":"CapsLock","13":"Enter","255":"AltRight"},codes:{Backquote:0,Digit1:1,Digit2:2,Digit3:3,Digit4:4,Digit5:5,Digit6:6,Digit7:7,Digit8:8,Digit9:9,Digit0:10,Minus:11,Equal:12,KeyQ:13,KeyW:14,KeyE:15,KeyR:16,KeyT:17,KeyY:18,KeyU:19,KeyI:20,KeyO:21,KeyP:22,BracketLeft:23,BracketRight:24,Backslash:25,KeyA:26,KeyS:27,KeyD:28,KeyF:29,KeyG:30,KeyH:31,KeyJ:32,KeyK:33,KeyL:34,Semicolon:35,Quote:36,KeyZ:37,KeyX:38,KeyC:39,KeyV:40,KeyB:41,KeyN:42,KeyM:43,Comma:44,Period:45,Slash:46,IntlBackslash:47},getKeyLegend:function(v,u){var w=v.length;for(var e=0;e<w;e++){if(v[e].i==u){return(v[e].n?v[e].n:"")}}return 0},getKey:function(v,u){var w=v.length;for(var e=0;e<w;e++){if(v[e].i==u){return v[e]}}return null},isDeadkey:function(e,w){if(!e){return false}var v=e.length;for(var u=0;u<v;u++){if(e[u].k==w){return true}}return false},getMappedValue:function(e,x,w){if(!e){return""}var v=e.length;for(var u=0;u<v;u++){if(e[u].k==w&&e[u].b==x){return e[u].c}}return""},getState:function(w,e,x,u,v,i){var y="n";if(!e&&!x&&w){y="n"}else{if(!e&&x&&!w){y="s"}else{if(!e&&x&&w){y="s"}else{if(e&&!x&&!w){y="n"}else{if(e&&!x&&w){y="t"}else{if(e&&x&&!w){y="s"}else{if(e&&x&&w){y="f"}}}}}}}if(u){if(v=="1"){if(y=="n"){y="s"}else{if(y=="s"){y="n"}}}else{if(v=="SGCap"){if(y=="n"){y="y"}else{if(y=="s"){y="z"}}}}}if(i){if(y=="n"){y="t"}else{if(y=="s"){y="f"}}}return y}};a.keyboard=function(e,w){this.defaultLayout=new a.layout();this.defaultLayout.loadDefault();this.virtualLayout=new a.layout();this.virtualLayout.loadDefault();this.currentLayout=this.virtualLayout;this.shift=false;this.shiftOn=false;this.caps=false;this.capsOn=false;this.alt=false;this.altGr=false;this.altGrOn=false;this.ctrl=false;this.altCtrlOn=false;this.fontSize=18;this.counter=0;this.interval=0;this.prev="";this.emoji=false;this.emojiStartingCodePoint=128512;this.emojiCurrentCodePoint=128512;this.cancelkeypress=false;this.customOnBackspace=function(i){};this.customOnEnter=function(){};this.customOnSpace=function(){return false};this.customOnKey=function(i){return false};this.customOnEsc=function(){};this.customDrawKeyboard=function(i){return i};this.textbox=document.getElementById(w);this.textbox.style.fontSize="18px";if(a.util.mobile){this.textbox.readOnly=true}var v=['<div id="branah-keyboard">'];v.push('<div id="branah-keyboard-alpha">');if(a.util.windowWidth()<640){for(var u=13;u<23;u++){v.push('<button id="branah-k',u,'" class="branah-key"></button>')}for(var u=26;u<35;u++){v.push('<button id="branah-k',u,'" class="branah-key"></button>')}for(var u=37;u<44;u++){v.push('<button id="branah-k',u,'" class="branah-key"></button>')}v.push('<button id="branah-left-shift"><span>Shift</span></button>');v.push('<button id="branah-caps-lock"><span>Caps</span></button>');v.push('<button id="branah-escape" title="Turn on/off keyboard input conversion"><span>Esc</span></button>');v.push('<button id="branah-space"><span>Space</span></button>');v.push('<button id="branah-emoji" class="branah-key">\ud83d\ude00</button>');v.push('<button id="branah-enter" class="branah-enter"><span>Enter</span></button>');v.push('<button id="branah-left-ctrl" style="display:none"><span>Ctrl</span></button>');v.push('<button id="branah-left-alt" style="display:none"><span>Alt</span></button>');v.push('<button id="branah-right-alt"><span>AltGr</span></button>');v.push('<button id="branah-right-ctrl" style="display:none"><span>Ctrl</span></button>');v.push('<button id="branah-right-shift" style="display:none"><span>Shift</span></button>');v.push('<button id="branah-backspace"><span>Back</span></button>');for(var u=0;u<13;u++){v.push('<button id="branah-k',u,'" class="branah-key"></button>')}for(var u=23;u<26;u++){v.push('<button id="branah-k',u,'" class="branah-key"></button>')}for(var u=35;u<37;u++){v.push('<button id="branah-k',u,'" class="branah-key"></button>')}for(var u=44;u<48;u++){v.push('<button id="branah-k',u,'" class="branah-key"></button>')}v.push('<div class="branah-clear"></div>')}else{for(var u=0;u<13;u++){v.push('<button id="branah-k',u,'" class="branah-key"></button>')}v.push('<button id="branah-backspace"><span>Backspace</span></button>');v.push('<div class="branah-clear"></div>');v.push('<button id="branah-tab"><span>Tab</span></button>');for(var u=13;u<25;u++){v.push('<button id="branah-k',u,'" class="branah-key"></button>')}v.push('<button id="branah-k25"></button>');v.push('<div class="branah-clear"></div>');v.push('<button id="branah-caps-lock"><span>Caps Lock</span></button>');for(var u=26;u<37;u++){v.push('<button id="branah-k',u,'" class="branah-key"></button>')}v.push('<button id="branah-enter" class="branah-enter"><span>Enter</span></button>');v.push('<div class="branah-clear"></div>');v.push('<button id="branah-left-shift"><span>Shift</span></button>');v.push('<button id="branah-k47" class="branah-key"></button>');for(var u=37;u<47;u++){v.push('<button id="branah-k',u,'" class="branah-key"></button>')}v.push('<button id="branah-right-shift"><span>Shift</span></button>');v.push('<div class="branah-clear"></div>');v.push('<button id="branah-left-ctrl"><span>Ctrl</span></button>');v.push('<button id="branah"><span>Emoji</span></button>');v.push('<button id="branah-left-alt"><span>Alt</span></button>');v.push('<button id="branah-space"><span>Space</span></button>');v.push('<button id="branah-right-alt"><span>AltGr</span></button>');v.push('<button id="branah-escape" title="Turn on/off keyboard input conversion"><span>Esc</span></button>');v.push('<button id="branah-right-ctrl"><span>Ctrl</span></button>');v.push('<div class="branah-clear"></div>')}v.push("</div>");v.push('<div id="branah-keyboard-emoji" style="display:none">');v.push("</div>");v.push("</div>");document.getElementById(e).innerHTML=v.join("");this.wireEvents();this.drawKeyboard()};a.keyboard.prototype.loadDefaultLayout=function(e){this.defaultLayout.load(e);this.drawKeyboard()};a.keyboard.prototype.loadVirtualLayout=function(e){this.virtualLayout.load(e);this.drawKeyboard();this.textbox.style.direction=this.attr("dir")};a.keyboard.prototype.switchLayout=function(){this.currentLayout=(this.currentLayout===this.defaultLayout)?this.virtualLayout:this.defaultLayout;this.reset();this.drawKeyboard();this.textbox.style.direction=this.attr("dir")};a.keyboard.prototype.getFontSize=function(){return this.fontSize};a.keyboard.prototype.setFontSize=function(e){this.fontSize=e;this.textbox.style.fontSize=this.fontSize+"px"};a.keyboard.prototype.onEsc=function(){this.switchLayout();this.customOnEsc()};a.keyboard.prototype.onShift=function(){this.shift=!this.shift;this.drawKeyboard()};a.keyboard.prototype.onAlt=function(){this.alt=!this.alt;this.drawKeyboard()};a.keyboard.prototype.onAltGr=function(){this.altGr=!this.altGr;this.drawKeyboard()};a.keyboard.prototype.onCtrl=function(){this.ctrl=!this.ctrl;this.drawKeyboard()};a.keyboard.prototype.onCapsLock=function(){this.caps=!this.caps;this.drawKeyboard()};a.keyboard.prototype.onBackspace=function(){if(this.prev!=""){this.prev="";this.shift=false;this.drawKeyboard()}else{var i=a.util.deleteAtCaret(this.textbox,1,0);if(i.length>0){var e=i.charCodeAt(0);if(e<57344&&56319<e){i=a.util.deleteAtCaret(this.textbox,1,0)+i}}this.customOnBackspace(i)}};a.keyboard.prototype.onEnter=function(){a.util.insertAtCaret(this.textbox,"\u000A");this.customOnEnter()};a.keyboard.prototype.onSpace=function(){if(!this.customOnSpace()){a.util.insertAtCaret(this.textbox,"\u0020")}};a.keyboard.prototype.onEmoji=function(){this.emoji=!this.emoji;this.emojiCurrentCodePoint=this.emojiStartingCodePoint;this.drawKeyboard()};a.keyboard.prototype.onEmojiScrollUp=function(){this.emojiCurrentCodePoint-=14;if(this.emojiCurrentCodePoint<0){this.emojiCurrentCodePoint=0}this.drawKeyboard()};a.keyboard.prototype.onEmojiScrollDown=function(){this.emojiCurrentCodePoint+=14;this.drawKeyboard()};a.keyboard.prototype.onEmojiKey=function(e){a.util.insertAtCaret(this.textbox,a.util.fromCharCodeS(this.emojiCurrentCodePoint+parseInt(e)-100))};a.keyboard.prototype.attr=function(e){if(e=="dir"){return this.currentLayout.dir}else{if(e=="lang"){return this.currentLayout.lang}else{if(e=="name"){return this.currentLayout.name}}}return""};a.keyboard.prototype.reset=function(){this.shift=false;this.caps=false;this.alt=false;this.altGr=false;this.ctrl=false;this.counter=0;this.interval=0;this.prev=""};a.keyboard.prototype.stopRepeat=function(){if(this.interval!=0){clearInterval(this.interval);this.counter=0;this.interval=0}};a.keyboard.prototype.onKey=function(i){var e=a.layout.parser.getKey(this.currentLayout.keys,i);if(e){var v=a.layout.parser.getState(this.ctrl,this.alt,this.shift,this.caps,e.c?e.c:"0",this.altGr);var w=e[v]?e[v]:"";if(this.prev!=""){var u=a.layout.parser.getMappedValue(this.currentLayout.deadkeys,w,this.prev);if(u!=""){a.util.insertAtCaret(this.textbox,u)}this.prev=""}else{if(a.layout.parser.isDeadkey(this.currentLayout.deadkeys,w)){this.prev=w}else{if(w!=""){if(!this.customOnKey(w)){a.util.insertAtCaret(this.textbox,w)}}}}}};a.keyboard.prototype.getEmojiHTML=function(){var v=14;if(a.util.windowWidth()<640){v=6}var w=[];for(var e=100;e<100+(5*v);e++){w.push('<button id="branah-k',e,'" class="branah-key"><div style="font-size:',this.fontSize,'px;">',a.util.fromCharCodeS(this.emojiCurrentCodePoint+e-100),"</div></button>");var u=e-99;if(u==v){w.push('<button id="branah-emoji-scrollup" class="branah-key"><div style="font-size:',this.fontSize,'px;">\u23f6</div></button>');w.push('<div class="branah-clear"></div>')}else{if(u==2*v){w.push('<button id="branah-emoji" class="branah-key"><span>abc</span></button>');w.push('<div class="branah-clear"></div>')}else{if(u==3*v){w.push('<button id="branah-emoji-backspace" class="branah-key"><div style="font-size:',this.fontSize,'px;">\u232b</div></button>');w.push('<div class="branah-clear"></div>')}else{if(u==4*v){w.push('<button id="branah-emoji-enter" class="branah-key"><div style="font-size:',this.fontSize,'px;">\u21b5</div></button>');w.push('<div class="branah-clear"></div>')}else{if(u==5*v){w.push('<button id="branah-emoji-scrolldown" class="branah-key"><div style="font-size:',this.fontSize,'px;">\u23f7</div></button>');w.push('<div class="branah-clear"></div>')}}}}}}w.push('<div class="branah-clear"></div>');return w.join("")};a.keyboard.prototype.drawKeyboard=function(){if(this.emoji){document.getElementById("branah-keyboard-emoji").innerHTML=this.getEmojiHTML();document.getElementById("branah-keyboard-emoji").style.display="";document.getElementById("branah-keyboard-alpha").style.display="none";return}else{document.getElementById("branah-keyboard-emoji").style.display="none";document.getElementById("branah-keyboard-alpha").style.display=""}if(!this.currentLayout.keys){return}var F,H,K,L;var I=this.currentLayout.keys.length;for(var G=0;G<I;G++){H=this.currentLayout.keys[G];if(!document.getElementById("branah-"+H.i)){continue}var E=this.ctrl;var e=this.alt;var J=this.shift;var D=this.caps;var u=this.altGr;if(this.shiftOn){J=true}if(this.capsOn){D=true}if(this.altCtrlOn){E=true;e=true}if(this.altGrOn){u=true}K=a.layout.parser.getState(E,e,J,D,H.c?H.c:"0",u);L=H[K]?H[K]:"";if(this.prev!=""){L=a.layout.parser.getMappedValue(this.currentLayout.deadkeys,L,this.prev)}F=[];F.push('<div class="branah-label-reference">',a.layout.parser.getKeyLegend(this.defaultLayout.keys,H.i),"</div>");if(!J){L=this.customDrawKeyboard(L);if(L==""){L="&nbsp;"}F.push('<div class="branah-label-natural" style="font-size:',this.fontSize,'px;">&nbsp;',L,"</div>")}else{if(L==""){L="&nbsp;"}F.push('<div class="branah-label-shift" style="font-size:',this.fontSize,'px;">&nbsp;',L,"</div>")}document.getElementById("branah-"+H.i).innerHTML=F.join("")}var y=document.getElementById("branah-left-ctrl");var B=document.getElementById("branah-right-ctrl");if(y&&B){if(E){y.className="branah-recessed"+(this.ctrl?"":"-hover");B.className="branah-recessed"+(this.ctrl?"":"-hover")}else{y.className="";B.className=""}}var x=document.getElementById("branah-left-alt");if(x){if(e){x.className="branah-recessed"+(this.alt?"":"-hover")}else{x.className=""}}var A=document.getElementById("branah-right-alt");if(A){if(u){A.className="branah-recessed"+(this.altGr?"":"-hover")}else{A.className=""}}var z=document.getElementById("branah-left-shift");var C=document.getElementById("branah-right-shift");if(z&&C){if(J){z.className="branah-recessed"+(this.shift?"":"-hover");C.className="branah-recessed"+(this.shift?"":"-hover")}else{z.className="";C.className=""}}var v=document.getElementById("branah-caps-lock");if(v){if(D){v.className="branah-recessed"+(this.caps?"":"-hover")}else{v.className=""}}var w=document.getElementById("branah-escape");if(w){if(this.currentLayout===this.defaultLayout){w.className="branah-recessed"}else{w.className=""}}};a.keyboard.prototype.wireEvents=function(){var e=this;document.getElementById("branah-keyboard").onmousedown=function(i){var u=a.util.srcId(i,this,"button");if(!u){return}e.interval=setInterval(function(){e.counter++;if(e.counter>5){switch(u){case"branah-backspace":case"branah-emoji-backspace":e.onBackspace();break;case"branah-enter":case"branah-emoji-enter":e.onEnter();break;case"branah-emoji-scrollup":e.onEmojiScrollUp();break;case"branah-emoji-scrolldown":e.onEmojiScrollDown();break;default:if(u.search("^branah-k([0-9]|[1-3][0-9]|4[0-7])$")!=-1){e.onKey(u.substr(7));e.shift=false;e.alt=false;e.ctrl=false;e.altGr=false;e.drawKeyboard()}else{if(u.search("^branah-k1[0-6][0-9]$")!=-1){e.onEmojiKey(u.substr(8))}}break}}},50)};document.getElementById("branah-keyboard").onmouseup=function(i){e.stopRepeat()};document.getElementById("branah-keyboard").onmouseout=function(i){e.stopRepeat()};document.getElementById("branah-keyboard").onclick=function(i){var u=a.util.srcId(i,this,"button");if(!u){return}switch(u){case"branah-left-shift":case"branah-right-shift":e.onShift();break;case"branah-left-alt":e.onCtrl();e.onAlt();break;case"branah-right-alt":e.onAltGr();break;case"branah-left-ctrl":case"branah-right-ctrl":e.onAlt();e.onCtrl();break;case"branah-escape":e.onEsc();break;case"branah-caps-lock":e.onCapsLock();break;case"branah-backspace":case"branah-emoji-backspace":e.onBackspace();break;case"branah-enter":case"branah-emoji-enter":e.onEnter();break;case"branah-space":e.onSpace();break;case"branah":case"branah-emoji":e.onEmoji();break;case"branah-emoji-scrollup":e.onEmojiScrollUp();break;case"branah-emoji-scrolldown":e.onEmojiScrollDown();break;default:if(u.search("^branah-k([0-9]|[1-3][0-9]|4[0-7])$")!=-1){e.onKey(u.substr(7));e.shift=false;e.alt=false;e.ctrl=false;e.altGr=false;e.drawKeyboard()}else{if(u.search("^branah-k1[0-6][0-9]$")!=-1){e.onEmojiKey(u.substr(8))}}break}};if(!("ontouchstart" in document.documentElement)||!a.util.mobile){document.getElementById("branah-left-shift").onmouseover=function(i){e.shiftOn=true;e.drawKeyboard()};document.getElementById("branah-right-shift").onmouseover=function(i){e.shiftOn=true;e.drawKeyboard()};document.getElementById("branah-left-shift").onmouseout=function(i){e.shiftOn=false;e.drawKeyboard()};document.getElementById("branah-right-shift").onmouseout=function(i){e.shiftOn=false;e.drawKeyboard()};document.getElementById("branah-left-ctrl").onmouseover=function(i){e.altCtrlOn=true;e.drawKeyboard()};document.getElementById("branah-right-ctrl").onmouseover=function(i){e.altCtrlOn=true;e.drawKeyboard()};document.getElementById("branah-left-ctrl").onmouseout=function(i){e.altCtrlOn=false;e.drawKeyboard()};document.getElementById("branah-right-ctrl").onmouseout=function(i){e.altCtrlOn=false;e.drawKeyboard()};document.getElementById("branah-left-alt").onmouseover=function(i){e.altCtrlOn=true;e.drawKeyboard()};document.getElementById("branah-right-alt").onmouseover=function(i){e.altGrOn=true;e.drawKeyboard()};document.getElementById("branah-left-alt").onmouseout=function(i){e.altCtrlOn=false;e.drawKeyboard()};document.getElementById("branah-right-alt").onmouseout=function(i){e.altGrOn=false;e.drawKeyboard()};document.getElementById("branah-caps-lock").onmouseover=function(i){e.capsOn=true;e.drawKeyboard()};document.getElementById("branah-caps-lock").onmouseout=function(i){e.capsOn=false;e.drawKeyboard()}}e.textbox.onkeydown=function(u){var i=a.util.code(u);if(i=="Unidentified"){var w=a.util.keyCode(u);i=a.layout.parser.keys[w+""]}if((i=="KeyA"||i=="KeyY"||i=="KeyZ"||i=="KeyC"||i=="KeyV"||i=="KeyX")&&(e.ctrl&&!e.alt&&!e.shift)){return}if(e.currentLayout==e.defaultLayout&&i!="Escape"){return}switch(i){case"ControlLeft":case"ControlRight":e.ctrl=false;e.onCtrl();break;case"AltLeft":e.alt=false;e.onAlt();break;case"AltRight":e.altGr=false;e.onAltGr();break;case"ShiftLeft":case"ShiftRight":e.shift=false;e.onShift();break;case"Escape":e.onEsc();break;case"CapsLock":if(u.getModifierState&&u.getModifierState("CapsLock")){e.caps=false}e.onCapsLock();break;case"Backspace":e.onBackspace();a.util.preventDefault(u);break;case"Space":e.onSpace();a.util.preventDefault(u);break;case"Enter":e.onEnter();a.util.preventDefault(u);break;default:var v=a.layout.parser.codes[i];if(v!=undefined){e.onKey("k"+v);e.drawKeyboard();a.util.preventDefault(u);e.cancelkeypress=true}break}};if(a.util.opera){e.textbox.onkeypress=function(i){if(e.cancelkeypress){a.util.preventDefault(i);e.cancelkeypress=false}}}e.textbox.onkeyup=function(u){var i=a.util.code(u);if(i=="Unidentified"){var v=a.util.keyCode(u);i=a.layout.parser.keys[v+""]}switch(i){case"ControlLeft":case"ControlRight":e.ctrl=true;e.onCtrl();break;case"AltLeft":e.alt=true;e.onAlt();break;case"AltRight":e.altGr=true;e.onAltGr();break;case"ShiftLeft":case"ShiftRight":e.shift=true;e.onShift();break;default:}}};var o=false;try{var d="item";localStorage.setItem(d,d);localStorage.removeItem(d);o=true}catch(b){}var f=false;try{var p=JSON.parse(JSON.stringify({item:"item"}));if(p.item=="item"){f=true}}catch(b){};var g=null;var n={undo:[],redo:[],layout:null,fontSize:null};var t="russian";g=new a.keyboard("keyboard","editor");var r=g.textbox;r.focus();if(o&&f){var p=JSON.parse(localStorage.getItem(t));if(p!=null){if(p.layout){n.layout=p.layout}if(p.undo){n.undo=p.undo}if(p.redo){n.redo=p.redo}if(p.fontSize){n.fontSize=p.fontSize}}}if(n.fontSize){g.setFontSize(n.fontSize)}var k=[{Id:"russian",Name:"Standard",Json:{name:"Russian",dir:"ltr",keys:[{i:"k0",c:"1",n:"ё",s:"Ё"},{i:"k1",c:"0",n:"1",s:"!"},{i:"k2",c:"0",n:"2",s:'"'},{i:"k3",c:"0",n:"3",s:"№"},{i:"k4",c:"0",n:"4",s:";"},{i:"k5",c:"0",n:"5",s:"%"},{i:"k6",c:"0",n:"6",s:":"},{i:"k7",c:"0",n:"7",s:"?"},{i:"k8",c:"0",n:"8",s:"*"},{i:"k9",c:"0",n:"9",s:"("},{i:"k10",c:"0",n:"0",s:")"},{i:"k11",c:"0",n:"-",s:"_"},{i:"k12",c:"0",n:"=",s:"+"},{i:"k13",c:"1",n:"й",s:"Й"},{i:"k14",c:"1",n:"ц",s:"Ц"},{i:"k15",c:"1",n:"у",s:"У"},{i:"k16",c:"1",n:"к",s:"К"},{i:"k17",c:"1",n:"е",s:"Е"},{i:"k18",c:"1",n:"н",s:"Н"},{i:"k19",c:"1",n:"г",s:"Г"},{i:"k20",c:"1",n:"ш",s:"Ш"},{i:"k21",c:"1",n:"щ",s:"Щ"},{i:"k22",c:"1",n:"з",s:"З"},{i:"k23",c:"1",n:"х",s:"Х"},{i:"k24",c:"1",n:"ъ",s:"Ъ"},{i:"k25",c:"0",n:"\\",s:"/"},{i:"k26",c:"1",n:"ф",s:"Ф"},{i:"k27",c:"1",n:"ы",s:"Ы"},{i:"k28",c:"1",n:"в",s:"В"},{i:"k29",c:"1",n:"а",s:"А"},{i:"k30",c:"1",n:"п",s:"П"},{i:"k31",c:"1",n:"р",s:"Р"},{i:"k32",c:"1",n:"о",s:"О"},{i:"k33",c:"1",n:"л",s:"Л"},{i:"k34",c:"1",n:"д",s:"Д"},{i:"k35",c:"1",n:"ж",s:"Ж"},{i:"k36",c:"1",n:"э",s:"Э"},{i:"k37",c:"1",n:"я",s:"Я"},{i:"k38",c:"1",n:"ч",s:"Ч"},{i:"k39",c:"1",n:"с",s:"С"},{i:"k40",c:"1",n:"м",s:"М"},{i:"k41",c:"1",n:"и",s:"И"},{i:"k42",c:"1",n:"т",s:"Т"},{i:"k43",c:"1",n:"ь",s:"Ь"},{i:"k44",c:"1",n:"б",s:"Б"},{i:"k45",c:"1",n:"ю",s:"Ю"},{i:"k46",c:"0",n:".",s:","},{i:"k47",c:"0",n:"\\",s:"/"}],deadkeys:[]}},{Id:"phonetic",Name:"Phonetic",Json:{name:"Russian Phonetic",dir:"ltr",keys:[{i:"k0",c:"0",n:"щ",s:"Щ"},{i:"k1",c:"0",n:"1",s:"!"},{i:"k2",c:"0",n:"2",s:'"'},{i:"k3",c:"0",n:"3",s:"№"},{i:"k4",c:"0",n:"4",s:";"},{i:"k5",c:"0",n:"5",s:"%"},{i:"k6",c:"0",n:"6",s:":"},{i:"k7",c:"0",n:"7",s:"?"},{i:"k8",c:"0",n:"8",s:"*"},{i:"k9",c:"0",n:"9",s:"("},{i:"k10",c:"0",n:"0",s:")"},{i:"k11",c:"0",n:"—",s:"/"},{i:"k12",c:"0",n:"=",s:"+"},{i:"k13",c:"1",n:"я",s:"Я"},{i:"k14",c:"1",n:"ш",s:"Ш"},{i:"k15",c:"1",n:"е",s:"Е"},{i:"k16",c:"1",n:"р",s:"Р"},{i:"k17",c:"1",n:"т",s:"Т"},{i:"k18",c:"1",n:"ы",s:"Ы"},{i:"k19",c:"1",n:"у",s:"У"},{i:"k20",c:"1",n:"и",s:"И"},{i:"k21",c:"1",n:"о",s:"О"},{i:"k22",c:"1",n:"п",s:"П"},{i:"k23",c:"0",n:"ю",s:"Ю"},{i:"k24",c:"0",n:"ж",s:"Ж"},{i:"k25",c:"0",n:"э",s:"Э"},{i:"k26",c:"1",n:"а",s:"А"},{i:"k27",c:"1",n:"с",s:"С"},{i:"k28",c:"1",n:"д",s:"Д"},{i:"k29",c:"1",n:"ф",s:"Ф"},{i:"k30",c:"1",n:"г",s:"Г"},{i:"k31",c:"1",n:"ч",s:"Ч"},{i:"k32",c:"1",n:"й",s:"Й"},{i:"k33",c:"1",n:"к",s:"К"},{i:"k34",c:"1",n:"л",s:"Л"},{i:"k35",c:"0",n:"ь",s:"Ь"},{i:"k36",c:"0",n:"ъ",s:"Ъ"},{i:"k37",c:"1",n:"з",s:"З"},{i:"k38",c:"1",n:"х",s:"Х"},{i:"k39",c:"1",n:"ц",s:"Ц"},{i:"k40",c:"1",n:"в",s:"В"},{i:"k41",c:"1",n:"б",s:"Б"},{i:"k42",c:"1",n:"н",s:"Н"},{i:"k43",c:"1",n:"м",s:"М"},{i:"k44",c:"0",n:"ё",s:"Ё"},{i:"k45",c:"0",n:"«",s:"»"},{i:"k46",c:"0",n:".",s:","},{i:"k47",c:"0",n:"э",s:"Э"}],deadkeys:[]}},{Id:"typewriter",Name:"Typewriter",Json:{name:"Russian Typewriter",dir:"ltr",keys:[{i:"k0",c:"0",n:"|",s:"+"},{i:"k1",c:"0",n:"№",s:"1"},{i:"k2",c:"0",n:"-",s:"2"},{i:"k3",c:"0",n:"/",s:"3"},{i:"k4",c:"0",n:'"',s:"4"},{i:"k5",c:"0",n:":",s:"5"},{i:"k6",c:"0",n:",",s:"6"},{i:"k7",c:"0",n:".",s:"7"},{i:"k8",c:"0",n:"_",s:"8"},{i:"k9",c:"0",n:"?",s:"9"},{i:"k10",c:"0",n:"%",s:"0"},{i:"k11",c:"0",n:"!",s:"="},{i:"k12",c:"0",n:";",s:"\\"},{i:"k13",c:"1",n:"й",s:"Й"},{i:"k14",c:"1",n:"ц",s:"Ц"},{i:"k15",c:"1",n:"у",s:"У"},{i:"k16",c:"1",n:"к",s:"К"},{i:"k17",c:"1",n:"е",s:"Е"},{i:"k18",c:"1",n:"н",s:"Н"},{i:"k19",c:"1",n:"г",s:"Г"},{i:"k20",c:"1",n:"ш",s:"Ш"},{i:"k21",c:"1",n:"щ",s:"Щ"},{i:"k22",c:"1",n:"з",s:"З"},{i:"k23",c:"1",n:"х",s:"Х"},{i:"k24",c:"1",n:"ъ",s:"Ъ"},{i:"k25",c:"0",n:")",s:"("},{i:"k26",c:"1",n:"ф",s:"Ф"},{i:"k27",c:"1",n:"ы",s:"Ы"},{i:"k28",c:"1",n:"в",s:"В"},{i:"k29",c:"1",n:"а",s:"А"},{i:"k30",c:"1",n:"п",s:"П"},{i:"k31",c:"1",n:"р",s:"Р"},{i:"k32",c:"1",n:"о",s:"О"},{i:"k33",c:"1",n:"л",s:"Л"},{i:"k34",c:"1",n:"д",s:"Д"},{i:"k35",c:"1",n:"ж",s:"Ж"},{i:"k36",c:"1",n:"э",s:"Э"},{i:"k37",c:"1",n:"я",s:"Я"},{i:"k38",c:"1",n:"ч",s:"Ч"},{i:"k39",c:"1",n:"с",s:"С"},{i:"k40",c:"1",n:"м",s:"М"},{i:"k41",c:"1",n:"и",s:"И"},{i:"k42",c:"1",n:"т",s:"Т"},{i:"k43",c:"1",n:"ь",s:"Ь"},{i:"k44",c:"1",n:"б",s:"Б"},{i:"k45",c:"1",n:"ю",s:"Ю"},{i:"k46",c:"1",n:"ё",s:"Ё"},{i:"k47",c:"0",n:")",s:"("}],deadkeys:[]}},{Id:"transliterate",Name:"Transliteration",Json:{}}];if(k.length==1){g.loadVirtualLayout(k[0].Json)}else{var h=[];var l=[];if(!n.layout){n.layout=k[0].Id}var m=false;for(var c=0;c<k.length;c++){h.push("<label",(c>0?' style="margin-left:2em"':""),'><input id="',k[c].Id,'" name=type type=radio',(n.layout==k[c].Id?' checked="checked"':""),"> ",k[c].Name,"</label>");l[c]=new a.layout();if(k[c].Id=="transliterate"){l[c].loadDefault()}else{l[c].load(k[c].Json)}if(n.layout==k[c].Id){if(k[c].Id=="transliterate"){g.virtualLayout.loadDefault();g.virtualLayout.dir=l[0].dir}else{g.virtualLayout.load(k[c].Json)}g.drawKeyboard();g.textbox.style.direction=g.attr("dir");m=true}}if(m==false){g.loadVirtualLayout(k[0].Json)}var j=document.createElement("p");j.innerHTML=h.join("");document.getElementById("keyboard").appendChild(j);for(var c=0;c<k.length;c++){var q=function(e,i){document.getElementById(e).onclick=function(){if(n.layout!=e){g.virtualLayout=i;g.currentLayout=g.virtualLayout;g.reset();g.drawKeyboard();g.textbox.style.direction=i.dir;n.layout=e;if(o&&f){localStorage.setItem(t,JSON.stringify(n))}}g.textbox.focus()}}(k[c].Id,l[c])}}var s={mapping:{a:"а",A:"А",b:"б",B:"Б",v:"в",V:"В",g:"г",G:"Г",d:"д",D:"Д",e:"е",E:"Е","йo":"ё","ЙO":"Ё","Йo":"Ё","зh":"ж","Зh":"Ж","ЗH":"Ж",z:"з",Z:"З",i:"и",I:"И",j:"й",J:"Й",k:"к",K:"К",l:"л",L:"Л",m:"м",M:"М",n:"н",N:"Н",o:"о",O:"О",p:"п",P:"П",r:"р",R:"Р",s:"с",S:"С",t:"т",T:"Т",u:"у",U:"У",f:"ф",F:"Ф","кh":"х","КH":"Х","Кh":"Х","тs":"ц","ТS":"Ц","Тs":"Ц",ch:"ч",CH:"Ч",Ch:"Ч","сh":"ш","Сh":"Ш","СH":"Ш","сc":"щ","СC":"Щ","Сc":"Щ",'"':"ъ",'ъ"':"Ъ",y:"ы",Y:"Ы","'":"ь","ь'":"Ь","йe":"э","Йe":"Э","ЙE":"Э","иu":"ю","ИU":"Ю","Иu":"Ю","иa":"я","ИA":"Я","Иa":"Я",";a":"а",";e":"е",";o":"о",";s":"с",";u":"у",';"':"ъ",";'":"ь","-":"-",";-":"-","<":"«",">":"»","#":"№","--":"—",";#":"#",},compose:function(u){var i=u.length;if(i==0){return""}if(this.mapping[u]){return this.mapping[u]}else{if(i>=2){var e=u.substring(i-2,i);if(this.mapping[e]!==undefined){return(i==3?u.charAt(0):"")+(this.mapping[e]||"")}else{e=u.charAt(i-1);if(this.mapping[e]!==undefined){return u.substring(0,i-1)+(this.mapping[e]||"")}}}}return u},decompose:function(z){var w=z.length;if(w==0){return""}var y="";var e,v;for(var u=0;u<w;u++){e=z.charAt(u);v="";for(var x in this.mapping){if(this.mapping[x]==e){v=x;break}}if(v!=""){y=y+v}else{y=y+e}}return y}};g.customOnKey=function(i){if(this.currentLayout===this.defaultLayout||this.emoji){return false}a.util.insertAtCaret(this.textbox,i);if(n.layout=="transliterate"){var e=a.util.deleteAtCaret(this.textbox,2,0);a.util.insertAtCaret(this.textbox,s.compose(e))}return true};g.customOnBackspace=function(e){if(this.currentLayout===this.defaultLayout||this.emoji){}else{if(n.layout=="transliterate"&&e.length==1){result=s.decompose(e);if(result!=e){result=a.util.deleteAtCaret(this.textbox,1,0)+result;a.util.insertAtCaret(this.textbox,s.compose(result.slice(0,-1)))}}}};if(n.fontSize==null){n.fontSize=g.getFontSize();if(o&&f){localStorage.setItem(t,JSON.stringify(n))}}document.getElementById("shrink").onclick=function(){if(n.fontSize<14){return}n.fontSize-=2;g.setFontSize(n.fontSize);g.drawKeyboard();if(o&&f){localStorage.setItem(t,JSON.stringify(n))}r.focus()};document.getElementById("enlarge").onclick=function(){if(n.fontSize>36){return}n.fontSize+=2;g.setFontSize(n.fontSize);g.drawKeyboard();if(o&&f){localStorage.setItem(t,JSON.stringify(n))}r.focus()};document.getElementById("email").onclick=function(){this.href="mailto: ?body="+r.value;r.focus();return true};document.getElementById("selectAll").onclick=function(){a.util.setCaretPosition(r,0,r.value.length);r.focus()};document.getElementById("copy").onclick=function(){a.util.setCaretPosition(r,0,r.value.length);var e=document.execCommand("copy");if(e){a.util.setCaretPosition(r,r.value.length,r.value.length)}else{alert("Your browser does not allow automated copy. To copy the text in the text area, you can click Select All button and right click on the selected text. Then click the Copy option.")}r.focus()};if(o&&f){if(n.undo.length>0){r.value=n.undo.pop()}document.getElementById("clearAll").onclick=function(){if(r.value.length<10||confirm("Are you sure you want to clear all the text?")){n.undo=[];n.redo=[];localStorage.setItem(t,JSON.stringify(n));r.value=""}r.focus()};document.getElementById("undo").onclick=function(){if(n.undo.length==0){return}var e=n.undo.pop();if(e!=r.value){n.redo.push(r.value);r.value=e}else{r.value=(n.undo.length==0?"":n.undo[n.undo.length-1]);n.redo.push(e)}localStorage.setItem(t,JSON.stringify(n));r.focus()};document.getElementById("redo").onclick=function(){if(n.redo.length==0){return}var e=n.redo.pop();r.value=e;n.undo.push(e);localStorage.setItem(t,JSON.stringify(n));r.focus()};setInterval(function(){var e=r.value;if(n.undo.length==0&&e.length==0){return}if(n.undo.length==0||e!=n.undo[n.undo.length-1]){n.undo.push(e);localStorage.setItem(t,JSON.stringify(n))}},3000)}else{document.getElementById("undo").style.display="none";document.getElementById("redo").style.display="none";document.getElementById("clearAll").style.display="none"}document.getElementById("postToTwitter").onclick=function(){document.getElementById("postToTwitter").href="https://twitter.com/intent/tweet?text="+encodeURIComponent(r.value);r.focus();return true};document.getElementById("searchGoogle").onclick=function(){document.getElementById("searchGoogle").href="https://www.google.com/search?ie=UTF-8&q="+encodeURIComponent(r.value);r.focus();return true};document.getElementById("translateGoogle").onclick=function(){document.getElementById("translateGoogle").href="https://translate.google.com/#view=home&op=translate&sl=ru&tl=en&text="+encodeURIComponent(r.value);r.focus();return true};document.getElementById("saveAsTextFile").onsubmit=function(){document.getElementById("data").value=r.value;r.focus();return true}})();
    </script>
</body>
</html>
